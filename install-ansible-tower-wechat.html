<html>
  <head>
    <meta http-equiv=Content-Type content="text/html;charset=utf-8">
    <link rel="stylesheet" href="theme/css/wechat.css" type="text/css" charset="utf-8">
  </head>
  <body>
    <div class="toc">
<ul>
<li><a href="#_1">手动安装</a><ul>
<li><a href="#_2">下载安装包</a></li>
</ul>
</li>
<li><a href="#vagrant">使用 Vagrant 进行安装</a></li>
<li><a href="#ref">REF</a></li>
</ul>
</div>
<h1 id="_1">手动安装</h1>
<h2 id="_2">下载安装包</h2>
<p>从 http://www.ansible.com/tower-trial 下载，需要填个人信息，提交后会自动下载。</p>
<p>把安装包复制到要安装的机器中去，解压准备安装</p>
<pre class="codehilite"><code>tar xvf ansible-tower-setup-latest.tar.gz
cd ansible-tower-setup-2.4.3</code></pre>


<p>这个安装包本质上是一个playbook。其中<code>configure</code>是用来生成配置文件的脚本，运行它会有几个问题，让你回答，回答完后就开始自动安装了。也可把这些问答写到一个文件中，让其自动化。建立名为<code>tower_setup_conf.yml</code> 的文件，其内容为:</p>
<pre class="codehilite"><code class="language-yaml">admin_password: password
database: internal
munin_password: password
pg_password: password
primary_machine: localhost
redis_password: password</code></pre>


<p>开始进行设置</p>
<pre class="codehilite"><code>./configure --options-file tower_setup_conf.yml</code></pre>


<p>如果没有问题，脚本会提示：</p>
<pre class="codehilite"><code>The configuration provided in tower_setup_conf.yml appears complete.

FINISHED!
You have completed the setup wizard. You may execute the installation of
Ansible Tower by issuing the following command:

sudo ./setup.sh</code></pre>


<p>运行安装脚本</p>
<pre class="codehilite"><code>sudo ./setup.sh</code></pre>


<p>其主要工作为</p>
<ol>
<li>如果没有安装ansible, 就安装上ansible</li>
<li>使用ansible进行tower的安装</li>
</ol>
<p>安装好后，终端会提示给你访问的地址，用浏览器打开就可以了。输入上面设置的admin账号密码登录。</p>
<p>之后会出现设置 Tower License 的界面。可以从 http://www.ansible.com/license 申请到一个10个节点的免费 license。最后把 License 复制进去提交就可以了。</p>
<h1 id="vagrant">使用 Vagrant 进行安装</h1>
<p>官方提供 Vagrant Images, 方便进行安装测试。使用方法</p>
<pre class="codehilite"><code>vagrant init tower http://vms.ansible.com/ansible-tower-2.4.3-virtualbox.box
vagrant up
vagrant ssh</code></pre>


<h1 id="ref">REF</h1>
<ul>
<li>http://docs.ansible.com/ansible-tower/latest/html/installandreference/tower_installer.html</li>
<li>http://docs.ansible.com/ansible-tower/latest/html/installandreference/tower_install_wizard.html</li>
</ul>
    <p> 点击「阅读原文」，能看到更多链接。 </p>
    <!--
      <div class="copyleft">
      <p>文档信息</p>
      <ul>
      <li> 版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</li>
      <li> 作者： Jeffrey4l </li>
      <li> 发表日期： 2017年12月19日 </li>
      </div>
    -->
  </body>
</html>
