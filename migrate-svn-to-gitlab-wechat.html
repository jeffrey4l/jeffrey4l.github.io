<html>
  <head>
    <meta http-equiv=Content-Type content="text/html;charset=utf-8">
    <link rel="stylesheet" href="theme/css/wechat.css" type="text/css" charset="utf-8">
  </head>
  <body>
    <ul>
<li>在GitLab上创建相对应的项目/项目组</li>
<li>准备''users.txt''文件，来修正提交用户名。并手动修改users.txt的正确性 </li>
</ul>
<pre class="codehilite"><code>svn log &lt;svn-url&gt; --xml | grep -P &quot;^&lt;author&quot; | sort -u | perl -pe 's/&lt;author&gt;(.*?)&lt;\/author&gt;/$1 = /' &gt; users.txt</code></pre>


<p>users.txt的文件格式如下</p>
<pre class="codehilite"><code class="language-text">Lei Zhang = Lei Zhang &lt;zhang.lei.fly#gmail.com&gt;</code></pre>


<ul>
<li>把SVN项目使用git-svn进行克隆 </li>
</ul>
<pre class="codehilite"><code>git svn clone --no-metadata --authors-file users.txt -s &lt;svn-url&gt; &lt;project&gt;</code></pre>


<ul>
<li>处理SVN的分支和标签 </li>
</ul>
<pre class="codehilite"><code>cd &lt;project&gt;
git for-each-ref refs/remotes/tags | cut -d / -f 4- | grep -v @ | while read tagname; do git tag &quot;$tagname&quot; &quot;tags/$tagname&quot;; git branch -r -d &quot;tags/$tagname&quot;; done
git for-each-ref refs/remotes | cut -d / -f 3- | grep -v @ | while read branchname; do git branch &quot;$branchname&quot; &quot;refs/remotes/$branchname&quot;; git branch -r -d &quot;$branchname&quot;; done&lt;/code&gt;</code></pre>


<ul>
<li>Push到Gitlab上的仓库</li>
</ul>
<pre class="codehilite"><code>git remote add origin &lt;git-repo-url&gt;
git push origin --all
git push origin --tags</code></pre>


<h2 id="_1">参考</h2>
<p><a href="http://git-scm.com/book/en/Git-and-Other-Systems-Migrating-to-Git">Git and Other Systems - Migrating to Git</a></p>
    <p> 点击「阅读原文」，能看到更好的排版。 </p>
    <!--
      <div class="copyleft">
      <p>文档信息</p>
      <ul>
      <li> 版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</li>
      <li> 作者： Jeffrey4l </li>
      <li> 发表日期： 2017年12月19日 </li>
      </div>
    -->
  </body>
</html>
